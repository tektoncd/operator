{"apiVersion":"tekton.dev/v1beta1","kind":"Pipeline","metadata":{"annotations":{"operator.tekton.dev/preserve-namespace":"true","pipeline.openshift.io/supported-versions":"[3.6,3.5]"},"labels":{"pipeline.openshift.io/runtime":"python","pipeline.openshift.io/type":"kubernetes"},"name":"s2i-python-3-deployment","namespace":"openshift"},"spec":{"params":[{"name":"APP_NAME","type":"string"},{"name":"GIT_REPO","type":"string"},{"name":"GIT_REVISION","type":"string"},{"name":"IMAGE_NAME","type":"string"},{"default":".","name":"PATH_CONTEXT","type":"string"},{"default":"6","name":"MINOR_VERSION","type":"string"}],"tasks":[{"name":"fetch-repository","params":[{"name":"url","value":"$(params.GIT_REPO)"},{"name":"revision","value":"$(params.GIT_REVISION)"},{"name":"subdirectory","value":""},{"name":"deleteExisting","value":"true"}],"taskRef":{"kind":"ClusterTask","name":"git-clone"},"workspaces":[{"name":"output","workspace":"workspace"}]},{"name":"build","params":[{"name":"IMAGE","value":"$(params.IMAGE_NAME)"},{"name":"TLSVERIFY","value":"false"},{"name":"PATH_CONTEXT","value":"$(params.PATH_CONTEXT)"},{"name":"MINOR_VERSION","value":"$(params.MINOR_VERSION)"}],"runAfter":["fetch-repository"],"taskRef":{"kind":"ClusterTask","name":"s2i-python-3"},"workspaces":[{"name":"source","workspace":"workspace"}]},{"name":"deploy","params":[{"name":"SCRIPT","value":"kubectl $@"},{"name":"ARGS","value":["rollout","status","deploy/$(params.APP_NAME)"]}],"runAfter":["build"],"taskRef":{"kind":"ClusterTask","name":"openshift-client"}}],"workspaces":[{"name":"workspace"}]}}
