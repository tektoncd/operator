{"apiVersion":"tekton.dev/v1","kind":"Pipeline","metadata":{"annotations":{"operator.tekton.dev/preserve-namespace":"true"},"labels":{"pipeline.openshift.io/runtime":"ruby","pipeline.openshift.io/type":"knative"},"name":"s2i-ruby-knative","namespace":"openshift"},"spec":{"params":[{"name":"APP_NAME","type":"string"},{"name":"GIT_REPO","type":"string"},{"name":"GIT_REVISION","type":"string"},{"name":"IMAGE_NAME","type":"string"},{"default":".","name":"PATH_CONTEXT","type":"string"},{"default":"2.7-ubi8","name":"VERSION","type":"string"}],"tasks":[{"name":"fetch-repository","params":[{"name":"URL","value":"$(params.GIT_REPO)"},{"name":"REVISION","value":"$(params.GIT_REVISION)"},{"name":"SUBDIRECTORY","value":""},{"name":"DELETE_EXISTING","value":"true"}],"taskRef":{"params":[{"name":"kind","value":"task"},{"name":"name","value":"git-clone"},{"name":"namespace","value":"openshift-pipelines"}],"resolver":"cluster"},"workspaces":[{"name":"output","workspace":"workspace"}]},{"name":"build","params":[{"name":"IMAGE","value":"$(params.IMAGE_NAME)"},{"name":"TLS_VERIFY","value":"false"},{"name":"CONTEXT","value":"$(params.PATH_CONTEXT)"},{"name":"VERSION","value":"$(params.VERSION)"}],"runAfter":["fetch-repository"],"taskRef":{"params":[{"name":"kind","value":"task"},{"name":"name","value":"s2i-ruby"},{"name":"namespace","value":"openshift-pipelines"}],"resolver":"cluster"},"workspaces":[{"name":"source","workspace":"workspace"}]},{"name":"kn-service-apply","params":[{"name":"ARGS","value":["service","apply","$(params.APP_NAME)","--image=$(params.IMAGE_NAME)"]}],"runAfter":["build"],"taskRef":{"params":[{"name":"kind","value":"task"},{"name":"name","value":"kn"},{"name":"namespace","value":"openshift-pipelines"}],"resolver":"cluster"}}],"workspaces":[{"name":"workspace"}]}}
